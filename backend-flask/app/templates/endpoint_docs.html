{% extends "base.html" %}

{% block styles %}
.endpoint-details {
    background: var(--bg);
    border-radius: var(--radius);
    padding: 1.5rem;
    box-shadow: 0 1px 2px rgba(0,0,0,0.05);
}
.method-badge {
    display: inline-block;
    padding: 0.25rem 0.75rem;
    border-radius: 4px;
    font-weight: 600;
    margin-bottom: 1rem;
}
.endpoint-path {
    font-family: monospace;
    font-size: 1.1rem;
    margin-bottom: 1rem;
    padding: 0.75rem;
    background: #f8fafc;
    border-radius: var(--radius);
}
.section {
    margin-bottom: 2rem;
}
.section h2 {
    font-size: 1.25rem;
    margin: 0 0 1rem;
}
.code-block {
    background: #1e1e1e;
    color: #fff;
    padding: 1rem;
    border-radius: var(--radius);
    overflow-x: auto;
}
.try-swagger {
    display: inline-block;
    background: var(--primary);
    color: white;
    padding: 0.75rem 1.5rem;
    border-radius: var(--radius);
    text-decoration: none;
    margin-top: 1rem;
}
.try-swagger:hover {
    background: var(--primary-light);
}
{% endblock %}

{% block content %}
<div class="header">
    <a href="{{ url_for('root') }}" class="back-button">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
            <path fill-rule="evenodd" d="M17 10a.75.75 0 01-.75.75H5.612l4.158 4.158a.75.75 0 11-1.04 1.04l-5.5-5.5a.75.75 0 010-1.06l5.5-5.5a.75.75 0 111.04 1.04L5.612 9.25H16.25A.75.75 0 0117 10z" clip-rule="evenodd" />
        </svg>
        Back to API List
    </a>
    <h1>{{ endpoint_data.title }}</h1>
</div>

<div class="endpoint-details">
    <span class="method-badge {{ endpoint_data.method.lower() }}">{{ endpoint_data.method }}</span>
    <div class="endpoint-path">{{ endpoint_data.path }}</div>

    <div class="section">
        <h2>Description</h2>
        <p>{{ endpoint_data.description }}</p>
    </div>

    <div class="section">
        <h2>Frontend Usage</h2>
        <p>This endpoint is used in: {{ endpoint_data.frontend_usage }}</p>
    </div>

    <div class="section">
        <h2>Example Request</h2>
        <pre class="code-block">{{ endpoint_data.example_request }}</pre>
    </div>

    <div class="section">
        <h2>Example Response</h2>
        <pre class="code-block">{{ endpoint_data.example_response }}</pre>
    </div>

    <a href="/docs#/{{ endpoint_data.swagger_tag }}" class="try-swagger">Try in Swagger UI â†’</a>
</div>
{% endblock %} 